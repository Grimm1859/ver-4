(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const m of a)if(m.type==="childList")for(const j of m.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&i(j)}).observe(document,{childList:!0,subtree:!0});function e(a){const m={};return a.integrity&&(m.integrity=a.integrity),a.referrerPolicy&&(m.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?m.credentials="include":a.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(a){if(a.ep)return;a.ep=!0;const m=e(a);fetch(a.href,m)}})();class t{constructor(g){this.remainingTime=g,this.timer=null,this.onTick=null,this.onTimeout=null}start(g,e){this.onTick=g,this.onTimeout=e,this.timer=setInterval(()=>{var i,a;this.remainingTime--,this.remainingTime<=0?(this.stop(),this.remainingTime=0,(i=this.onTimeout)==null||i.call(this)):(a=this.onTick)==null||a.call(this)},1e3)}stop(){this.timer&&(clearInterval(this.timer),this.timer=null)}reset(g){this.stop(),this.remainingTime=g}subtractTime(g){var e,i;this.remainingTime=Math.max(0,this.remainingTime-g),this.remainingTime===0?(this.stop(),(e=this.onTimeout)==null||e.call(this)):(i=this.onTick)==null||i.call(this)}isRunning(){return this.timer!==null}getRemainingTime(){return this.remainingTime}}function n(p){const g=Math.floor(p/60),e=p%60;return`${String(g).padStart(2,"0")}:${String(e).padStart(2,"0")}`}class r{constructor(g){this.settings=g,this.player1Clock=null,this.player2Clock=null,this.activePlayer=null,this.onTick=null,this.onTimeout=null,this.reset()}reset(){const g=this.settings.getTimeInSeconds();this.player1Clock=new t(g),this.player2Clock=new t(g),this.activePlayer=null,this.stop()}start(){this.activePlayer||(this.activePlayer=1),(this.activePlayer===1?this.player1Clock:this.player2Clock).start(()=>{var e;return(e=this.onTick)==null?void 0:e.call(this)},()=>{var e;return(e=this.onTimeout)==null?void 0:e.call(this,this.activePlayer)})}stop(){var g,e;(g=this.player1Clock)==null||g.stop(),(e=this.player2Clock)==null||e.stop()}switchPlayer(){this.stop(),this.activePlayer=this.activePlayer===1?2:1,this.start()}getFormattedTime(g){const e=g===1?this.player1Clock:this.player2Clock;return n(e.getRemainingTime())}setOnTick(g){this.onTick=g}setOnTimeout(g){this.onTimeout=g}get isRunning(){var g,e;return((g=this.player1Clock)==null?void 0:g.isRunning())||((e=this.player2Clock)==null?void 0:e.isRunning())}}class o{constructor(){this.elements=this.cacheElements(),this.preloadedImage=new Image}cacheElements(){return{player1:document.getElementById("player1"),player2:document.getElementById("player2"),pass1:document.getElementById("pass1"),pass2:document.getElementById("pass2"),startBtn:document.getElementById("startBtn"),resetBtn:document.getElementById("resetBtn"),settingsBtn:document.getElementById("settingsBtn"),settingsModal:document.getElementById("settingsModal"),saveSettings:document.getElementById("saveSettings"),cancelSettings:document.getElementById("cancelSettings"),timeInput:document.getElementById("timeInput"),slideshow:document.getElementById("slideshow"),categorySelect:document.getElementById("categorySelect")}}get(g){return this.elements[g]?this.elements[g]:(console.warn(`Element "${g}" not found in cached elements`),null)}updatePlayerTime(g,e){const i=this.elements[`player${g}`];if(i){const a=i.querySelector(".time");a&&(a.textContent=e)}}setStartButtonText(g){const e=this.elements.startBtn;e&&(e.textContent=g)}updatePlayerStatus(g,e){const i=this.elements.player1,a=this.elements.player2;i&&a&&(i.classList.remove("active","inactive"),a.classList.remove("active","inactive"),g?(i.classList.add("active"),a.classList.add("inactive")):e&&(i.classList.add("inactive"),a.classList.add("active")))}markTimeout(g){const e=this.elements[`player${g}`];e&&e.classList.add("timeout")}updateSlideshowImage(g,e){const i=this.elements.slideshow;if(i){if(e){i.style.opacity="0",setTimeout(()=>{i.src=g,i.style.opacity="1"},300);return}this.preloadedImage.onload=()=>{i.style.opacity="0",setTimeout(()=>{i.src=g,i.style.opacity="1"},300)},this.preloadedImage.src=g}}showSettingsModal(){const g=this.elements.settingsModal;g&&g.classList.remove("hidden")}hideSettingsModal(){const g=this.elements.settingsModal;g&&g.classList.add("hidden")}}const l={default:{path:"/images",images:["start.jpg"]},classic:{path:"/images/classic",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},modern:{path:"/images/drink",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image22.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image23.jpg"]},masters:{path:"/images/heroes",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no5:{path:"/images/instruments",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg"]},no6:{path:"/images/stars",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no7:{path:"/images/videogames",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no8:{path:"/images/cartoon",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no9:{path:"/images/sports",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no10:{path:"/images/capitals",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg"]},no11:{path:"/images/body",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no12:{path:"/images/nature",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no13:{path:"/images/fruits",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no14:{path:"/images/vehicles",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no15:{path:"/images/flags",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no16:{path:"/images/foods",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no17:{path:"/images/vegetables",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no18:{path:"/images/tales",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg"]},no19:{path:"/images/harry",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no20:{path:"/images/equipments",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg"]},no21:{path:"/images/icon",images:["image31.jpg","image1.jpg","image2.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg","image32.jpg"]},no22:{path:"/images/mammals",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg","image32.jpg","image33.jpg","image34.jpg","image35.jpg"]},no23:{path:"/images/sea",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no24:{path:"/images/birds",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no25:{path:"/images/flowers",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image24.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg"]},no26:{path:"/images/jobs",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no27:{path:"/images/clothes",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no28:{path:"/images/ultensils",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no29:{path:"/images/furnitures",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no30:{path:"/images/electronics",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no31:{path:"/images/school",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no32:{path:"/images/world",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg"]},no33:{path:"/images/shows",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg"]},no34:{path:"/images/christmas",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no35:{path:"/images/bathroom",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg"]},no36:{path:"/images/tree",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg"]}};class h{constructor(){this.preloadedImages=new Map,this.preloadQueue=[],this.currentCategory=null,this.preloadSize=2}setCategory(g,e){this.currentCategory=g,this.preloadedImages.clear(),this.preloadQueue=[],this.queueImagesForPreload(0,e)}queueImagesForPreload(g,e){this.preloadQueue=[];for(let i=0;i<this.preloadSize;i++){const a=(g+i)%e.length,m=e[a];this.preloadedImages.has(m)||this.preloadQueue.push(m)}this.preloadQueuedImages()}preloadQueuedImages(){this.preloadQueue.forEach(g=>{if(!this.preloadedImages.has(g)){const e=new Image;e.onload=()=>{this.preloadedImages.set(g,e)},e.src=g}})}getPreloadedImage(g){return this.preloadedImages.get(g)}updatePreloadQueue(g,e){this.currentCategory&&this.queueImagesForPreload(g+1,e)}}class c{constructor(){this.imagePreloader=new h,this.categories=this.initializeCategories(),this.currentCategory="default",this.currentIndex=0}initializeCategories(){return Object.entries(l).reduce((g,[e,i])=>(g[e]=i.images.map(a=>`${i.path}/${a}`),g),{})}setCategory(g){if(this.categories[g]){this.currentCategory=g,this.currentIndex=0;const e=this.categories[g];return this.imagePreloader.setCategory(g,e),this.getCurrentImage()}return null}next(){const g=this.categories[this.currentCategory];return this.currentIndex=(this.currentIndex+1)%g.length,this.imagePreloader.updatePreloadQueue(this.currentIndex,g),this.getCurrentImage()}getCurrentImage(){return this.categories[this.currentCategory][this.currentIndex]}getPreloadedImage(g){return this.imagePreloader.getPreloadedImage(g)}reset(){return this.currentIndex=0,this.getCurrentImage()}getCategories(){return Object.keys(this.categories)}}class d{constructor(g,e){this.timer=g,this.settings=e,this.elements=new o,this.slideshow=new c,this.setupEventListeners()}initialize(){this.updateDisplay(),this.timer.setOnTick(()=>this.updateDisplay()),this.timer.setOnTimeout(g=>this.handleTimeout(g)),this.updateSlideshow()}setupEventListeners(){this.addClickListener("startBtn",()=>this.handleStartClick()),this.addClickListener("resetBtn",()=>this.handleResetClick()),this.addClickListener("settingsBtn",()=>this.showSettings()),this.addClickListener("saveSettings",()=>this.saveSettings()),this.addClickListener("cancelSettings",()=>this.hideSettings()),this.addClickListener("player1",()=>this.handlePlayerClick(1)),this.addClickListener("player2",()=>this.handlePlayerClick(2)),this.addClickListener("pass1",e=>this.handlePassClick(e,1)),this.addClickListener("pass2",e=>this.handlePassClick(e,2));const g=this.elements.get("categorySelect");g&&g.addEventListener("change",e=>this.handleCategoryChange(e)),document.addEventListener("keydown",e=>{e.code==="Space"&&this.handleStartClick(),e.code==="KeyR"&&this.handleResetClick()})}addClickListener(g,e){const i=this.elements.get(g);i&&i.addEventListener("click",e)}async handleCategoryChange(g){const e=this.slideshow.setCategory(g.target.value);e&&await this.updateSlideshow(e)}handleStartClick(){this.timer.isRunning?(this.timer.stop(),this.elements.setStartButtonText("Start")):setTimeout(()=>{this.timer.start(),this.elements.setStartButtonText("Pause"),this.updateSlideshow(g)},5e3),this.updateDisplay();const g=this.slideshow.next()}async handleResetClick(){this.timer.reset(),this.elements.setStartButtonText("Start"),this.updateDisplay();const g=this.slideshow.reset();this.updateSlideshow(g)}async handlePlayerClick(g){if(this.timer.isRunning&&g===this.timer.activePlayer){this.timer.switchPlayer(),this.updateDisplay();const e=this.slideshow.next();await this.updateSlideshow(e)}}async handlePassClick(g,e){if(g.stopPropagation(),!this.timer.isRunning)return;(e===1?this.timer.player1Clock:this.timer.player2Clock).subtractTime(3),this.updateDisplay();const a=this.slideshow.next();await this.updateSlideshow(a)}handleTimeout(g){this.elements.markTimeout(g),this.elements.setStartButtonText("Start")}updateDisplay(){[1,2].forEach(g=>{this.elements.updatePlayerTime(g,this.timer.getFormattedTime(g))}),this.elements.updatePlayerStatus(this.timer.activePlayer===1&&this.timer.isRunning,this.timer.activePlayer===2&&this.timer.isRunning)}async updateSlideshow(g){if(this.elements.get("slideshow")&&g){const i=this.slideshow.getPreloadedImage(g);this.elements.updateSlideshowImage(g,i)}}showSettings(){const g=this.elements.get("timeInput");g&&(g.value=this.settings.getTimeInMinutes()),this.elements.showSettingsModal()}hideSettings(){this.elements.hideSettingsModal()}saveSettings(){const g=this.elements.get("timeInput");if(g){const e=parseInt(g.value,10);e>0&&(this.settings.setTimeInMinutes(e),this.timer.reset(),this.updateDisplay())}this.hideSettings()}}class u{constructor(){this.timeInMinutes=.75}setTimeInMinutes(g){this.timeInMinutes=g}getTimeInMinutes(){return this.timeInMinutes}getTimeInSeconds(){return this.timeInMinutes*60}}const s=new u,y=new r(s),I=new d(y,s);I.initialize();
