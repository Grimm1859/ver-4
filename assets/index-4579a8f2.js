(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&t(p)}).observe(document,{childList:!0,subtree:!0});function g(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(i){if(i.ep)return;i.ep=!0;const a=g(i);fetch(i.href,a)}})();class c{constructor(e){this.remainingTime=e,this.timer=null,this.onTick=null,this.onTimeout=null}start(e,g){this.onTick=e,this.onTimeout=g,this.timer=setInterval(()=>{var t,i;this.remainingTime--,this.remainingTime<=0?(this.stop(),this.remainingTime=0,(t=this.onTimeout)==null||t.call(this)):(i=this.onTick)==null||i.call(this)},1e3)}stop(){this.timer&&(clearInterval(this.timer),this.timer=null)}reset(e){this.stop(),this.remainingTime=e}subtractTime(e){var g,t;this.remainingTime=Math.max(0,this.remainingTime-e),this.remainingTime===0?(this.stop(),(g=this.onTimeout)==null||g.call(this)):(t=this.onTick)==null||t.call(this)}isRunning(){return this.timer!==null}getRemainingTime(){return this.remainingTime}}function d(m){const e=Math.floor(m/60),g=m%60;return`${String(e).padStart(2,"0")}:${String(g).padStart(2,"0")}`}class u{constructor(e){this.settings=e,this.player1Clock=null,this.player2Clock=null,this.activePlayer=null,this.onTick=null,this.onTimeout=null,this.reset()}reset(){const e=this.settings.getTimeInSeconds();this.player1Clock=new c(e),this.player2Clock=new c(e),this.activePlayer=null,this.stop()}start(){this.activePlayer||(this.activePlayer=1),(this.activePlayer===1?this.player1Clock:this.player2Clock).start(()=>{var g;return(g=this.onTick)==null?void 0:g.call(this)},()=>{var g;return(g=this.onTimeout)==null?void 0:g.call(this,this.activePlayer)})}stop(){var e,g;(e=this.player1Clock)==null||e.stop(),(g=this.player2Clock)==null||g.stop()}switchPlayer(){this.stop(),this.activePlayer=this.activePlayer===1?2:1,this.start()}getFormattedTime(e){const g=e===1?this.player1Clock:this.player2Clock;return d(g.getRemainingTime())}setOnTick(e){this.onTick=e}setOnTimeout(e){this.onTimeout=e}get isRunning(){var e,g;return((e=this.player1Clock)==null?void 0:e.isRunning())||((g=this.player2Clock)==null?void 0:g.isRunning())}}class y{constructor(){this.elements=this.cacheElements(),this.preloadedImage=new Image}cacheElements(){return{player1:document.getElementById("player1"),player2:document.getElementById("player2"),pass1:document.getElementById("pass1"),pass2:document.getElementById("pass2"),startBtn:document.getElementById("startBtn"),resetBtn:document.getElementById("resetBtn"),settingsBtn:document.getElementById("settingsBtn"),settingsModal:document.getElementById("settingsModal"),saveSettings:document.getElementById("saveSettings"),cancelSettings:document.getElementById("cancelSettings"),timeInput:document.getElementById("timeInput"),slideshow:document.getElementById("slideshow"),categorySelect:document.getElementById("categorySelect")}}get(e){return this.elements[e]?this.elements[e]:(console.warn(`Element "${e}" not found in cached elements`),null)}updatePlayerTime(e,g){const t=this.elements[`player${e}`];if(t){const i=t.querySelector(".time");i&&(i.textContent=g)}}setStartButtonText(e){const g=this.elements.startBtn;g&&(g.textContent=e)}updatePlayerStatus(e,g){const t=this.elements.player1,i=this.elements.player2;t&&i&&(t.classList.remove("active","inactive"),i.classList.remove("active","inactive"),e?(t.classList.add("active"),i.classList.add("inactive")):g&&(t.classList.add("inactive"),i.classList.add("active")))}markTimeout(e){const g=this.elements[`player${e}`];g&&g.classList.add("timeout")}updateSlideshowImage(e){const g=this.elements.slideshow;g&&(this.preloadedImage.onload=()=>{g.style.opacity="0",setTimeout(()=>{g.src=e,g.style.opacity="1"},300)},this.preloadedImage.src=e)}showSettingsModal(){const e=this.elements.settingsModal;e&&e.classList.remove("hidden")}hideSettingsModal(){const e=this.elements.settingsModal;e&&e.classList.add("hidden")}}const f={default:{path:"/images",images:["start.jpg"]},classic:{path:"/images/classic",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},modern:{path:"/images/drink",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image22.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg"]},masters:{path:"/images/heroes",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no5:{path:"/images/instruments",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg"]},no6:{path:"/images/stars",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no7:{path:"/images/videogames",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no8:{path:"/images/cartoon",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no9:{path:"/images/sports",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no10:{path:"/images/capitals",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg"]},no11:{path:"/images/body",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no12:{path:"/images/nature",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no13:{path:"/images/fruits",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no14:{path:"/images/vehicles",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]},no15:{path:"/images/flags",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg","image29.jpg","image30.jpg"]},no16:{path:"/images/foods",images:["image31.jpg","image1.jpg","image2.jpg","image3.jpg","image4.jpg","image5.jpg","image6.jpg","image7.jpg","image8.jpg","image9.jpg","image10.jpg","image11.jpg","image12.jpg","image13.jpg","image14.jpg","image15.jpg","image16.jpg","image17.jpg","image18.jpg","image19.jpg","image20.jpg","image21.jpg","image22.jpg","image23.jpg","image24.jpg","image25.jpg","image26.jpg","image27.jpg","image28.jpg"]}};class S{constructor(){this.categories=Object.entries(f).reduce((e,[g,t])=>(e[g]=t.images.map(i=>`${t.path}/${i}`),e),{}),this.currentCategory="default",this.currentIndex=0}setCategory(e){return this.categories[e]?(this.currentCategory=e,this.currentIndex=0,this.getCurrentImage()):null}next(){const e=this.categories[this.currentCategory];return this.currentIndex=(this.currentIndex+1)%e.length,this.getCurrentImage()}getCurrentImage(){return this.categories[this.currentCategory][this.currentIndex]}reset(){return this.currentIndex=-1,this.getCurrentImage()}getCategories(){return Object.keys(this.categories)}}class T{constructor(e,g){this.timer=e,this.settings=g,this.elements=new y,this.slideshow=new S,this.setupEventListeners()}initialize(){this.updateDisplay(),this.timer.setOnTick(()=>this.updateDisplay()),this.timer.setOnTimeout(e=>this.handleTimeout(e)),this.updateSlideshow()}setupEventListeners(){const e=this.elements.get("startBtn"),g=this.elements.get("resetBtn"),t=this.elements.get("settingsBtn"),i=this.elements.get("saveSettings"),a=this.elements.get("cancelSettings"),p=this.elements.get("player1"),n=this.elements.get("player2"),j=this.elements.get("pass1"),r=this.elements.get("pass2"),l=this.elements.get("categorySelect");e&&e.addEventListener("click",()=>this.handleStartClick()),g&&g.addEventListener("click",()=>this.handleResetClick()),t&&t.addEventListener("click",()=>this.showSettings()),i&&i.addEventListener("click",()=>this.saveSettings()),a&&a.addEventListener("click",()=>this.hideSettings()),p&&p.addEventListener("click",()=>this.handlePlayerClick(1)),n&&n.addEventListener("click",()=>this.handlePlayerClick(2)),j&&j.addEventListener("click",s=>this.handlePassClick(s,1)),r&&r.addEventListener("click",s=>this.handlePassClick(s,2)),l&&l.addEventListener("change",s=>{const o=this.slideshow.setCategory(s.target.value);o&&this.elements.updateSlideshowImage(o)}),document.addEventListener("keydown",s=>{s.code==="Space"?this.handleStartClick():s.code==="KeyR"&&this.handleResetClick()})}handlePassClick(e,g){if(e.stopPropagation(),!this.timer.isRunning)return;(g===1?this.timer.player1Clock:this.timer.player2Clock).subtractTime(3),this.updateDisplay(),this.updateSlideshow()}handleStartClick(){this.timer.isRunning?(this.timer.stop(),this.elements.setStartButtonText("Start")):(this.timer.start(),this.elements.setStartButtonText("Pause")),this.updateDisplay(),this.updateSlideshow()}handleResetClick(){this.timer.reset(),this.elements.setStartButtonText("Start"),this.updateDisplay(),this.slideshow.reset(),this.updateSlideshow()}handlePlayerClick(e){this.timer.isRunning&&(e===1&&this.timer.activePlayer===1||e===2&&this.timer.activePlayer===2)&&(this.timer.switchPlayer(),this.updateDisplay(),this.updateSlideshow())}handleTimeout(e){this.elements.markTimeout(e),this.elements.setStartButtonText("Start")}updateDisplay(){this.elements.updatePlayerTime(1,this.timer.getFormattedTime(1)),this.elements.updatePlayerTime(2,this.timer.getFormattedTime(2)),this.elements.updatePlayerStatus(this.timer.activePlayer===1&&this.timer.isRunning,this.timer.activePlayer===2&&this.timer.isRunning)}updateSlideshow(){const e=this.slideshow.next();this.elements.updateSlideshowImage(e)}showSettings(){const e=this.elements.get("timeInput");e&&(e.value=this.settings.getTimeInMinutes()),this.elements.showSettingsModal()}hideSettings(){this.elements.hideSettingsModal()}saveSettings(){const e=this.elements.get("timeInput");if(e){const g=parseInt(e.value,10);g>0&&(this.settings.setTimeInMinutes(g),this.timer.reset(),this.updateDisplay())}this.hideSettings()}}class v{constructor(){this.timeInMinutes=.75}setTimeInMinutes(e){this.timeInMinutes=e}getTimeInMinutes(){return this.timeInMinutes}getTimeInSeconds(){return this.timeInMinutes*60}}const h=new v,I=new u(h),k=new T(I,h);k.initialize();
